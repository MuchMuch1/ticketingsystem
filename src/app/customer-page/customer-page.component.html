<div class="container">

    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <section class="row">
        <div class="col-3">
            <form [formGroup]="ticketForm" (ngSubmit)="onSubmit()" novalidate>
                <h1>Create a Ticket</h1>
                <label for="ticketName">Name:</label> <br>
                <input type="text" id="ticketName" formControlName="name">
                <br>
                <select id="ticketType" formControlName="type">
                    <option value="">--Select a type--</option>
                    <option value="Bug">Bug</option>
                    <option value="Suggestion">Suggestion</option>
                    <option value="Enhancement">Enhancement</option>
                </select>
                <br>
                <label for="ticketDesc">Description:</label> <br>
                <textarea id="ticketDesc" formControlName="desc"></textarea>
                <br>
                <input type="submit" value="submit">
            </form>
        </div>

        <div class="col-6">
            <ng-container class="col" *ngIf="showEditForm == true">
                <h1>Edit</h1>
                <form [formGroup]="editForm" (ngSubmit)="onEdit()" novalidate>
                    <select id="ticketType" formControlName="type">
                        <option id="btn_edit_Bug" value="Bug">Bug</option>
                        <option id="btn_edit_Suggestion" value="Suggestion">Suggestion</option>
                        <option id="btn_edit_Enhancement" value="Enhancement">Enhancement</option>
                    </select>
                    <br>
                    <label for="ticketStatus">Status:</label> <br>
                    <select id="ticketStatus" formControlName="status">
                        <option value="">--Select a Status--</option>
                        <option value="Open">Open</option>
                        <option value="Pending">Pending</option>
                        <option value="On Hold">On Hold</option>
                        <option value="Closed">Closed</option>
                    </select>
                    <br>
                    <label for="ticketPriority">Priority:</label> <br>
                    <select id="ticketSPriority" formControlName="priority">
                        <option value="">--Select a Priority--</option>
                        <option value="Low">Low</option>
                        <option value="Medium">Medium</option>
                        <option value="High">High</option>
                        <option value="Critical">Critical</option>
                    </select>
                    <br>
                    <input type="submit" value="edit">
                </form>
            </ng-container>
        </div>
    </section>
   
    <table class="table table-hover">
        <thead><tr>
            <th scope="col" class="col-1">ID</th>
            <th scope="col" class="col-2">Name</th>
            <th scope="col" class="col-1">Type</th>
            <th scope="col" class="col-4">Description</th>
            <th scope="col" class="col-1">Status</th>
            <th scope="col" class="col-1"></th>
            <th scope="col" class="col-3">Date</th>
            <th scope="col" class="col-2">Actions</th>
        </tr></thead>
        <tbody *ngFor="let t of tickets"><tr *ngIf="priorityCheck(t.priority)" [class]="priorityColor">
            <td class="col-1">{{t.t_id}}</td>
            <td class="col-2 border">{{t.name}}</td>
            <td class="col-1 border">{{t.type}}</td>
            <td class="col-4 border">{{t.desc}}</td>
            <td class="col-1 border">{{t.status}}</td>
            <td class="col-1 border">{{t.priority}}</td>
            <td class="col-3 border">{{t.date}}</td>
            <td class="col-2">
                <button class="btn btn-secondary btn-sm m-1 w-100" id="btn_{{t.t_id}}" (click)="findID($event); edit()">Edit</button>
                <button class="btn btn-danger btn-sm m-1 w-100" id="btn_{{t.t_id}}" (click)="findID($event); delete()">Delete</button>
            </td>
        </tr></tbody>
    </table>


</div>